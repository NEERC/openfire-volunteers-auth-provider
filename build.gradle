plugins {
    id "java"
}

repositories {
    maven {
        url 'https://raw.githubusercontent.com/NEERC/openfire/mvn-repo/'
    }
    jcenter()
}

dependencies {
    compileOnly 'org.igniterealtime:openfire:4.1.6'
	compileOnly 'org.projectlombok:lombok:1.16.18'
    compile 'org.glassfish.jersey.core:jersey-client:2.26'
    compile 'org.glassfish.jersey.inject:jersey-hk2:2.26'
    compile 'org.glassfish.jersey.media:jersey-media-moxy:2.26'
    compile 'org.glassfish.jersey.security:oauth2-client:2.26'
}

jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    } {
        exclude "META-INF/*.SF"
        exclude "META-INF/*.DSA"
        exclude "META-INF/*.RSA"
    }
}
